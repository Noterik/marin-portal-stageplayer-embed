!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=6)}([function(t,e){t.exports=Object.freeze({STAGE_ENDPOINT:"stage",DATA_ENDPOINT:"data",SBF_DATA_ENDPOINT:"sbf-data",CLIENT_HOST:"0.0.0.0",CLIENT_PORT:3e3})},function(t,e,r){"use strict";e.decode=e.parse=r(11),e.encode=e.stringify=r(12)},function(t,e,r){(function(t){function r(t,e){for(var r=0,n=t.length-1;n>=0;n--){var o=t[n];"."===o?t.splice(n,1):".."===o?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function n(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}e.resolve=function(){for(var e="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var s=i>=0?arguments[i]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,o="/"===s.charAt(0))}return(o?"/":"")+(e=r(n(e.split("/"),function(t){return!!t}),!o).join("/"))||"."},e.normalize=function(t){var i=e.isAbsolute(t),s="/"===o(t,-1);return(t=r(n(t.split("/"),function(t){return!!t}),!i).join("/"))||i||(t="."),t&&s&&(t+="/"),(i?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(n(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,r){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var o=n(t.split("/")),i=n(r.split("/")),s=Math.min(o.length,i.length),a=s,u=0;u<s;u++)if(o[u]!==i[u]){a=u;break}var c=[];for(u=a;u<o.length;u++)c.push("..");return(c=c.concat(i.slice(a))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),r=47===e,n=-1,o=!0,i=t.length-1;i>=1;--i)if(47===(e=t.charCodeAt(i))){if(!o){n=i;break}}else o=!1;return-1===n?r?"/":".":r&&1===n?"/":t.slice(0,n)},e.basename=function(t,e){var r=function(t){"string"!=typeof t&&(t+="");var e,r=0,n=-1,o=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!o){r=e+1;break}}else-1===n&&(o=!1,n=e+1);return-1===n?"":t.slice(r,n)}(t);return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,r=0,n=-1,o=!0,i=0,s=t.length-1;s>=0;--s){var a=t.charCodeAt(s);if(47!==a)-1===n&&(o=!1,n=s+1),46===a?-1===e?e=s:1!==i&&(i=1):-1!==e&&(i=-1);else if(!o){r=s+1;break}}return-1===e||-1===n||0===i||1===i&&e===n-1&&e===r+1?"":t.slice(e,n)};var o="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,r(13))},,function(t,e,r){"use strict";var n=r(7),o=r(10);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=g,e.resolve=function(t,e){return g(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?g(t,!1,!0).resolveObject(e):e},e.format=function(t){o.isString(t)&&(t=g(t));return t instanceof i?t.format():i.prototype.format.call(t)},e.Url=i;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),h=["%","/","?",";","#"].concat(l),f=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=r(1);function g(t,e,r){if(t&&o.isObject(t)&&t instanceof i)return t;var n=new i;return n.parse(t,e,r),n}i.prototype.parse=function(t,e,r){if(!o.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),a=-1!==i&&i<t.indexOf("#")?"?":"#",c=t.split(a);c[0]=c[0].replace(/\\/g,"/");var g=t=c.join(a);if(g=g.trim(),!r&&1===t.split("#").length){var _=u.exec(g);if(_)return this.path=g,this.href=g,this.pathname=_[1],_[2]?(this.search=_[2],this.query=e?b.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var w=s.exec(g);if(w){var j=(w=w[0]).toLowerCase();this.protocol=j,g=g.substr(w.length)}if(r||w||g.match(/^\/\/[^@\/]+@[^@\/]+/)){var O="//"===g.substr(0,2);!O||w&&m[w]||(g=g.substr(2),this.slashes=!0)}if(!m[w]&&(O||w&&!y[w])){for(var x,P,C=-1,T=0;T<f.length;T++){-1!==(A=g.indexOf(f[T]))&&(-1===C||A<C)&&(C=A)}-1!==(P=-1===C?g.lastIndexOf("@"):g.lastIndexOf("@",C))&&(x=g.slice(0,P),g=g.slice(P+1),this.auth=decodeURIComponent(x)),C=-1;for(T=0;T<h.length;T++){var A;-1!==(A=g.indexOf(h[T]))&&(-1===C||A<C)&&(C=A)}-1===C&&(C=g.length),this.host=g.slice(0,C),g=g.slice(C),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var E=this.hostname.split(/\./),S=(T=0,E.length);T<S;T++){var q=E[T];if(q&&!q.match(p)){for(var N="",k=0,D=q.length;k<D;k++)q.charCodeAt(k)>127?N+="x":N+=q[k];if(!N.match(p)){var L=E.slice(0,T),$=E.slice(T+1),F=q.match(d);F&&(L.push(F[1]),$.unshift(F[2])),$.length&&(g="/"+$.join(".")+g),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=n.toASCII(this.hostname));var z=this.port?":"+this.port:"",R=this.hostname||"";this.host=R+z,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==g[0]&&(g="/"+g))}if(!v[j])for(T=0,S=l.length;T<S;T++){var U=l[T];if(-1!==g.indexOf(U)){var M=encodeURIComponent(U);M===U&&(M=escape(U)),g=g.split(U).join(M)}}var H=g.indexOf("#");-1!==H&&(this.hash=g.substr(H),g=g.slice(0,H));var X=g.indexOf("?");if(-1!==X?(this.search=g.substr(X),this.query=g.substr(X+1),e&&(this.query=b.parse(this.query)),g=g.slice(0,X)):e&&(this.search="",this.query={}),g&&(this.pathname=g),y[j]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){z=this.pathname||"";var B=this.search||"";this.path=z+B}return this.href=this.format(),this},i.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(s=b.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||y[e])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),e+i+(r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(a=a.replace("#","%23"))+n},i.prototype.resolve=function(t){return this.resolveObject(g(t,!1,!0)).format()},i.prototype.resolveObject=function(t){if(o.isString(t)){var e=new i;e.parse(t,!1,!0),t=e}for(var r=new i,n=Object.keys(this),s=0;s<n.length;s++){var a=n[s];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(r[l]=t[l])}return y[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!y[t.protocol]){for(var h=Object.keys(t),f=0;f<h.length;f++){var p=h[f];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||m[t.protocol])r.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var v=r.pathname||"",b=r.search||"";r.path=v+b}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var g=r.pathname&&"/"===r.pathname.charAt(0),_=t.host||t.pathname&&"/"===t.pathname.charAt(0),w=_||g||r.host&&t.pathname,j=w,O=r.pathname&&r.pathname.split("/")||[],x=(d=t.pathname&&t.pathname.split("/")||[],r.protocol&&!y[r.protocol]);if(x&&(r.hostname="",r.port=null,r.host&&(""===O[0]?O[0]=r.host:O.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),w=w&&(""===d[0]||""===O[0])),_)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,O=d;else if(d.length)O||(O=[]),O.pop(),O=O.concat(d),r.search=t.search,r.query=t.query;else if(!o.isNullOrUndefined(t.search)){if(x)r.hostname=r.host=O.shift(),(I=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift());return r.search=t.search,r.query=t.query,o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!O.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var P=O.slice(-1)[0],C=(r.host||t.host||O.length>1)&&("."===P||".."===P)||""===P,T=0,A=O.length;A>=0;A--)"."===(P=O[A])?O.splice(A,1):".."===P?(O.splice(A,1),T++):T&&(O.splice(A,1),T--);if(!w&&!j)for(;T--;T)O.unshift("..");!w||""===O[0]||O[0]&&"/"===O[0].charAt(0)||O.unshift(""),C&&"/"!==O.join("/").substr(-1)&&O.push("");var I,E=""===O[0]||O[0]&&"/"===O[0].charAt(0);x&&(r.hostname=r.host=E?"":O.length?O.shift():"",(I=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift()));return(w=w||r.host&&O.length)&&!E&&O.unshift(""),O.length?r.pathname=O.join("/"):(r.pathname=null,r.path=null),o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},i.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t){t.exports={name:"marin-portal-stageplayer-embed",version:"2.0.0-beta",description:"Embed for StagePlayer",main:"index.js",repository:"git@github.com:Noterik/marin-portal-stageplayer-embed.git",author:"DavidAmmeraal <david.ammeraal@gmail.com>",license:"MIT",scripts:{"start-client":"webpack-dev-server --config=./client/webpack.config.js","start-server":"nodemon --watch server server/index.js",start:"yarn run start-client & yarn run start-server","start-production":"yarn run start-server",build:"webpack --env.production --config=./client/webpack.config.js",lint:"eslint server && eslint client/src"},devDependencies:{"@babel/core":"^7.4.5","@babel/plugin-proposal-object-rest-spread":"^7.4.4","@babel/preset-env":"^7.4.5","@babel/register":"^7.4.4","babel-eslint":"^10.0.2","babel-loader":"^8.0.6","babel-plugin-ramda":"^2.0.0",eslint:"^6.8.0","eslint-config-airbnb-base":"^14.0.0","eslint-config-prettier":"^6.10.0","eslint-import-resolver-webpack":"^0.11.1","eslint-loader":"^3.0.3","eslint-plugin-import":"^2.20.1","eslint-plugin-prettier":"^3.1.2","html-webpack-plugin":"^3.2.0",nodemon:"^1.19.1",prettier:"^1.19.1","style-loader":"^0.23.1",webpack:"^4.35.2","webpack-cli":"^3.3.5","webpack-dev-server":"^3.7.2","webpack-dotenv-plugin":"^2.1.0"},dependencies:{ajv:"^6.10.0","body-parser":"^1.19.0","date-fns":"^2.0.0-alpha.37",express:"^4.17.1","http-proxy-middleware":"^0.19.1","insync-stage-handler":"2.1.2",minimist:"^1.2.0","object-hash":"^1.3.1","p-queue":"^6.2.1",querystring:"^0.2.0",ramda:"^0.26.1",request:"^2.88.0",winston:"^3.2.1"}}},function(t,e,r){t.exports=r(20)},function(t,e,r){(function(t,n){var o;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(i){e&&e.nodeType,t&&t.nodeType;var s="object"==typeof n&&n;s.global!==s&&s.window!==s&&s.self;var a,u=2147483647,c=36,l=1,h=26,f=38,p=700,d=72,v=128,m="-",y=/^xn--/,b=/[^\x20-\x7E]/,g=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=c-l,j=Math.floor,O=String.fromCharCode;function x(t){throw new RangeError(_[t])}function P(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function C(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+P((t=t.replace(g,".")).split("."),e).join(".")}function T(t){for(var e,r,n=[],o=0,i=t.length;o<i;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<i?56320==(64512&(r=t.charCodeAt(o++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),o--):n.push(e);return n}function A(t){return P(t,function(t){var e="";return t>65535&&(e+=O((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=O(t)}).join("")}function I(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function E(t,e,r){var n=0;for(t=r?j(t/p):t>>1,t+=j(t/e);t>w*h>>1;n+=c)t=j(t/w);return j(n+(w+1)*t/(t+f))}function S(t){var e,r,n,o,i,s,a,f,p,y,b,g=[],_=t.length,w=0,O=v,P=d;for((r=t.lastIndexOf(m))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&x("not-basic"),g.push(t.charCodeAt(n));for(o=r>0?r+1:0;o<_;){for(i=w,s=1,a=c;o>=_&&x("invalid-input"),((f=(b=t.charCodeAt(o++))-48<10?b-22:b-65<26?b-65:b-97<26?b-97:c)>=c||f>j((u-w)/s))&&x("overflow"),w+=f*s,!(f<(p=a<=P?l:a>=P+h?h:a-P));a+=c)s>j(u/(y=c-p))&&x("overflow"),s*=y;P=E(w-i,e=g.length+1,0==i),j(w/e)>u-O&&x("overflow"),O+=j(w/e),w%=e,g.splice(w++,0,O)}return A(g)}function q(t){var e,r,n,o,i,s,a,f,p,y,b,g,_,w,P,C=[];for(g=(t=T(t)).length,e=v,r=0,i=d,s=0;s<g;++s)(b=t[s])<128&&C.push(O(b));for(n=o=C.length,o&&C.push(m);n<g;){for(a=u,s=0;s<g;++s)(b=t[s])>=e&&b<a&&(a=b);for(a-e>j((u-r)/(_=n+1))&&x("overflow"),r+=(a-e)*_,e=a,s=0;s<g;++s)if((b=t[s])<e&&++r>u&&x("overflow"),b==e){for(f=r,p=c;!(f<(y=p<=i?l:p>=i+h?h:p-i));p+=c)P=f-y,w=c-y,C.push(O(I(y+P%w,0))),f=j(P/w);C.push(O(I(f,0))),i=E(r,_,n==o),r=0,++n}++r,++e}return C.join("")}a={version:"1.4.1",ucs2:{decode:T,encode:A},decode:S,encode:q,toASCII:function(t){return C(t,function(t){return b.test(t)?"xn--"+q(t):t})},toUnicode:function(t){return C(t,function(t){return y.test(t)?S(t.slice(4).toLowerCase()):t})}},void 0===(o=function(){return a}.call(e,r,e,t))||(t.exports=o)}()}).call(this,r(8)(t),r(9))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,i){e=e||"&",r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var u=1e3;i&&"number"==typeof i.maxKeys&&(u=i.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var h,f,p,d,v=t[l].replace(a,"%20"),m=v.indexOf(r);m>=0?(h=v.substr(0,m),f=v.substr(m+1)):(h=v,f=""),p=decodeURIComponent(h),d=decodeURIComponent(f),n(s,p)?o(s[p])?s[p].push(d):s[p]=[s[p],d]:s[p]=d}return s};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,r){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,a){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?i(s(t),function(s){var a=encodeURIComponent(n(s))+r;return o(t[s])?i(t[s],function(t){return a+encodeURIComponent(n(t))}).join(e):a+encodeURIComponent(n(t[s]))}).join(e):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function i(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},function(t,e){var r,n,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&p())}function p(){if(!l){var t=a(f);l=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new d(t,e)),1!==c.length||l||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(15),o=r(16),i=r(18),s=()=>{},a=new o.TimeoutError;e.default=class extends n{constructor(t){if(super(),Object.defineProperty(this,"_carryoverConcurrencyCount",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isIntervalIgnored",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_intervalCount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_intervalCap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_interval",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_intervalEnd",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_intervalId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_timeoutId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_queueClass",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pendingCount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_concurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isPaused",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_resolveEmpty",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"_resolveIdle",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"_timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_throwOnTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(t=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:i.default},t)).intervalCap&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${t.intervalCap}\` (${typeof t.intervalCap})`);if(void 0===t.interval||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${t.interval}\` (${typeof t.interval})`);this._carryoverConcurrencyCount=t.carryoverConcurrencyCount,this._isIntervalIgnored=t.intervalCap===1/0||0===t.interval,this._intervalCap=t.intervalCap,this._interval=t.interval,this._queue=new t.queueClass,this._queueClass=t.queueClass,this.concurrency=t.concurrency,this._timeout=t.timeout,this._throwOnTimeout=!0===t.throwOnTimeout,this._isPaused=!1===t.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother()}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=s,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=s)}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const t=Date.now();if(void 0===this._intervalId){const e=this._intervalEnd-t;if(!(e<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},e)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const t=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother)return this.emit("active"),this._queue.dequeue()(),t&&this._initializeIntervalIfNeeded(),!0}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(t){if(!("number"==typeof t&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);this._concurrency=t,this._processQueue()}async add(t,e={}){return new Promise((r,n)=>{this._queue.enqueue(async()=>{this._pendingCount++,this._intervalCount++;try{const i=void 0===this._timeout&&void 0===e.timeout?t():o.default(Promise.resolve(t()),void 0===e.timeout?this._timeout:e.timeout,()=>{(void 0===e.throwOnTimeout?this._throwOnTimeout:e.throwOnTimeout)&&n(a)});r(await i)}catch(t){n(t)}this._next()},e),this._tryToStartAnother()})}async addAll(t,e){return Promise.all(t.map(async t=>this.add(t,e)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise(t=>{const e=this._resolveEmpty;this._resolveEmpty=()=>{e(),t()}})}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise(t=>{const e=this._resolveIdle;this._resolveIdle=()=>{e(),t()}})}get size(){return this._queue.size}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}set timeout(t){this._timeout=t}get timeout(){return this._timeout}}},function(t,e,r){"use strict";var n=Object.prototype.hasOwnProperty,o="~";function i(){}function s(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function a(t,e,r,n,i){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new s(r,n||t,i),u=o?o+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],a]:t._events[u].push(a):(t._events[u]=a,t._eventsCount++),t}function u(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function c(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(o=!1)),c.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)n.call(t,e)&&r.push(o?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},c.prototype.listeners=function(t){var e=o?o+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,i=r.length,s=new Array(i);n<i;n++)s[n]=r[n].fn;return s},c.prototype.listenerCount=function(t){var e=o?o+t:t,r=this._events[e];return r?r.fn?1:r.length:0},c.prototype.emit=function(t,e,r,n,i,s){var a=o?o+t:t;if(!this._events[a])return!1;var u,c,l=this._events[a],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,n),!0;case 5:return l.fn.call(l.context,e,r,n,i),!0;case 6:return l.fn.call(l.context,e,r,n,i,s),!0}for(c=1,u=new Array(h-1);c<h;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var f,p=l.length;for(c=0;c<p;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),h){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,r);break;case 4:l[c].fn.call(l[c].context,e,r,n);break;default:if(!u)for(f=1,u=new Array(h-1);f<h;f++)u[f-1]=arguments[f];l[c].fn.apply(l[c].context,u)}}return!0},c.prototype.on=function(t,e,r){return a(this,t,e,r,!1)},c.prototype.once=function(t,e,r){return a(this,t,e,r,!0)},c.prototype.removeListener=function(t,e,r,n){var i=o?o+t:t;if(!this._events[i])return this;if(!e)return u(this,i),this;var s=this._events[i];if(s.fn)s.fn!==e||n&&!s.once||r&&s.context!==r||u(this,i);else{for(var a=0,c=[],l=s.length;a<l;a++)(s[a].fn!==e||n&&!s[a].once||r&&s[a].context!==r)&&c.push(s[a]);c.length?this._events[i]=1===c.length?c[0]:c:u(this,i)}return this},c.prototype.removeAllListeners=function(t){var e;return t?(e=o?o+t:t,this._events[e]&&u(this,e)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=o,c.EventEmitter=c,t.exports=c},function(t,e,r){"use strict";const n=r(17);class o extends Error{constructor(t){super(t),this.name="TimeoutError"}}const i=(t,e,r)=>new Promise((i,s)=>{if("number"!=typeof e||e<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(e===1/0)return void i(t);const a=setTimeout(()=>{if("function"==typeof r){try{i(r())}catch(t){s(t)}return}const n=r instanceof Error?r:new o("string"==typeof r?r:`Promise timed out after ${e} milliseconds`);"function"==typeof t.cancel&&t.cancel(),s(n)},e);n(t.then(i,s),()=>{clearTimeout(a)})});t.exports=i,t.exports.default=i,t.exports.TimeoutError=o},function(t,e,r){"use strict";t.exports=(t,e)=>(e=e||(()=>{}),t.then(t=>new Promise(t=>{t(e())}).then(()=>t),t=>new Promise(t=>{t(e())}).then(()=>{throw t})))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(19);e.default=class{constructor(){Object.defineProperty(this,"_queue",{enumerable:!0,configurable:!0,writable:!0,value:[]})}enqueue(t,e){const r={priority:(e=Object.assign({priority:0},e)).priority,run:t};if(this.size&&this._queue[this.size-1].priority>=e.priority)return void this._queue.push(r);const o=n.default(this._queue,r,(t,e)=>e.priority-t.priority);this._queue.splice(o,0,r)}dequeue(){const t=this._queue.shift();return t&&t.run}get size(){return this._queue.length}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){let n=0,o=t.length;for(;o>0;){const i=o/2|0;let s=n+i;r(t[s],e)<=0?(n=++s,o-=i+1):o=i}return n}},function(t,e,r){"use strict";r.r(e);var n=r(4),o=r.n(n),i=r(2),s=r.n(i),a=r(1),u=r.n(a);function c(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function l(t){return function e(r){return 0===arguments.length||c(r)?e:t.apply(this,arguments)}}function h(t){return function e(r,n){switch(arguments.length){case 0:return e;case 1:return c(r)?e:l(function(e){return t(r,e)});default:return c(r)&&c(n)?e:c(r)?l(function(e){return t(e,n)}):c(n)?l(function(e){return t(r,e)}):t(r,n)}}}var f=h(function(t,e){return null==e||e!=e?t:e}),p=h(function(t,e){for(var r=e,n=0;n<t.length;){if(null==r)return;r=r[t[n]],n+=1}return r}),d=r(5);function v(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,r){return e.apply(this,arguments)};case 3:return function(t,r,n){return e.apply(this,arguments)};case 4:return function(t,r,n,o){return e.apply(this,arguments)};case 5:return function(t,r,n,o,i){return e.apply(this,arguments)};case 6:return function(t,r,n,o,i,s){return e.apply(this,arguments)};case 7:return function(t,r,n,o,i,s,a){return e.apply(this,arguments)};case 8:return function(t,r,n,o,i,s,a,u){return e.apply(this,arguments)};case 9:return function(t,r,n,o,i,s,a,u,c){return e.apply(this,arguments)};case 10:return function(t,r,n,o,i,s,a,u,c,l){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}var m=h(function(t,e){return 1===t?l(e):v(t,function t(e,r,n){return function(){for(var o=[],i=0,s=e,a=0;a<r.length||i<arguments.length;){var u;a<r.length&&(!c(r[a])||i>=arguments.length)?u=r[a]:(u=arguments[i],i+=1),o[a]=u,c(u)||(s-=1),a+=1}return s<=0?n.apply(this,o):v(s,t(e,o,n))}}(t,[],e))}),y=l(function(t){return m(t.length,t)});function b(t,e){return function(){return e.call(this,t.apply(this,arguments))}}function g(t){return function e(r,n,o){switch(arguments.length){case 0:return e;case 1:return c(r)?e:h(function(e,n){return t(r,e,n)});case 2:return c(r)&&c(n)?e:c(r)?h(function(e,r){return t(e,n,r)}):c(n)?h(function(e,n){return t(r,e,n)}):l(function(e){return t(r,n,e)});default:return c(r)&&c(n)&&c(o)?e:c(r)&&c(n)?h(function(e,r){return t(e,r,o)}):c(r)&&c(o)?h(function(e,r){return t(e,n,r)}):c(n)&&c(o)?h(function(e,n){return t(r,e,n)}):c(r)?l(function(e){return t(e,n,o)}):c(n)?l(function(e){return t(r,e,o)}):c(o)?l(function(e){return t(r,n,e)}):t(r,n,o)}}}var _=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)};var w=l(function(t){return!!_(t)||!!t&&("object"==typeof t&&(!function(t){return"[object String]"===Object.prototype.toString.call(t)}(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))}),j=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}();var O=h(function(t,e){return v(t.length,function(){return t.apply(e,arguments)})});function x(t,e,r){for(var n=r.next();!n.done;){if((e=t["@@transducer/step"](e,n.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n=r.next()}return t["@@transducer/result"](e)}function P(t,e,r,n){return t["@@transducer/result"](r[n](O(t["@@transducer/step"],t),e))}var C="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function T(t,e,r){if("function"==typeof t&&(t=function(t){return new j(t)}(t)),w(r))return function(t,e,r){for(var n=0,o=r.length;n<o;){if((e=t["@@transducer/step"](e,r[n]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n+=1}return t["@@transducer/result"](e)}(t,e,r);if("function"==typeof r["fantasy-land/reduce"])return P(t,e,r,"fantasy-land/reduce");if(null!=r[C])return x(t,e,r[C]());if("function"==typeof r.next)return x(t,e,r);if("function"==typeof r.reduce)return P(t,e,r,"reduce");throw new TypeError("reduce: list must be array or iterable")}var A=g(T);function I(t,e){return function(){var r=arguments.length;if(0===r)return e();var n=arguments[r-1];return _(n)||"function"!=typeof n[t]?e.apply(this,arguments):n[t].apply(n,Array.prototype.slice.call(arguments,0,r-1))}}var E=l(I("tail",g(I("slice",function(t,e,r){return Array.prototype.slice.call(r,t,e)}))(1,1/0)));function S(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return v(arguments[0].length,A(b,arguments[0],E(arguments)))}var q=g(function(t,e,r){return t(r)?e(r):r}),N=h(function(t,e){return p([t],e)}),k=l(function(t){return function(){return t}}),D=g(function(t,e,r){var n={};for(var o in r)n[o]=r[o];return n[t]=e,n});function L(t){return null!=t&&"function"==typeof t["@@transducer/step"]}function $(t,e,r){return function(){if(0===arguments.length)return r();var n=Array.prototype.slice.call(arguments,0),o=n.pop();if(!_(o)){for(var i=0;i<t.length;){if("function"==typeof o[t[i]])return o[t[i]].apply(o,n);i+=1}if(L(o)){var s=e.apply(null,n);return s(o)}}return r.apply(this,arguments)}}var F=function(){return this.xf["@@transducer/init"]()},z=function(t){return this.xf["@@transducer/result"](t)},R=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=F,t.prototype["@@transducer/result"]=z,t.prototype["@@transducer/step"]=function(t,e){return this.xf["@@transducer/step"](t,this.f(e))},t}(),U=h(function(t,e){return new R(t,e)});function M(t,e){return Object.prototype.hasOwnProperty.call(e,t)}var H=Object.prototype.toString,X=function(){return"[object Arguments]"===H.call(arguments)?function(t){return"[object Arguments]"===H.call(t)}:function(t){return M("callee",t)}}(),B=!{toString:null}.propertyIsEnumerable("toString"),G=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],J=function(){return arguments.propertyIsEnumerable("length")}(),Q=function(t,e){for(var r=0;r<t.length;){if(t[r]===e)return!0;r+=1}return!1},W="function"!=typeof Object.keys||J?l(function(t){if(Object(t)!==t)return[];var e,r,n=[],o=J&&X(t);for(e in t)!M(e,t)||o&&"length"===e||(n[n.length]=e);if(B)for(r=G.length-1;r>=0;)M(e=G[r],t)&&!Q(n,e)&&(n[n.length]=e),r-=1;return n}):l(function(t){return Object(t)!==t?[]:Object.keys(t)}),K=h($(["fantasy-land/map","map"],U,function(t,e){switch(Object.prototype.toString.call(e)){case"[object Function]":return m(e.length,function(){return t.call(this,e.apply(this,arguments))});case"[object Object]":return T(function(r,n){return r[n]=t(e[n]),r},{},W(e));default:return function(t,e){for(var r=0,n=e.length,o=Array(n);r<n;)o[r]=t(e[r]),r+=1;return o}(t,e)}}));var Z="function"==typeof Object.assign?Object.assign:function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1,n=arguments.length;r<n;){var o=arguments[r];if(null!=o)for(var i in o)M(i,o)&&(e[i]=o[i]);r+=1}return e},V=l(function(t){return Z.apply(null,[{}].concat(t))});const Y=t=>t.json().then(e=>({...e,error:t.ok?null:new Error(`Got HTTP error: "${t.status}: ${t.statusText}, cause: "${e.data.message}".`)})),tt=t=>t.children.reduce((t,e)=>e.children?[...t,...tt(e)]:[...t,"measurement"===e.type&&{...e,id:e.name}],[]),et=y((t,e)=>Y(e).then(S(q(N("error"),t=>{throw t.error}),e=>S(k({}),D("path",t),D("streams",tt(e.data.metadata)))(e)))),rt=async(t,e)=>Promise.all(t.map(t=>Promise.resolve((t=>({headers:{Accept:"application/json","Content-Type":"application/json","X-Files":t},method:"POST",credentials:"include",body:JSON.stringify({action:"metadata",params:{file:t}})}))(t)).then(t=>fetch(e,t)).then(et(t)))).then(t=>({metadata:t})),nt=t=>Y(t).then(S(q(N("error"),t=>{throw t.error}),p(["data","measurements"]),K(S(K(([t,e])=>({x:t,y:"NaN"===e?null:e})))))),ot=(t,e)=>Promise.all(t.map(t=>Promise.resolve((t=>{const{file:e,measurements:r,start:n,end:o}=t;return{headers:{Accept:"application/json","Content-Type":"application/json","X-Files":e},method:"POST",credentials:"include",body:JSON.stringify({action:"data",params:{file:e,measurements:r.map(N("name")),offset:n,rows:r[0].resolution,limit:o-n,unit:"MILLI"}})}})(t)).then(t=>fetch(e,t)).then(nt))).then(V);function it(t){return function e(r){for(var n,o,i,s=[],a=0,u=r.length;a<u;){if(w(r[a]))for(i=0,o=(n=t?e(r[a]):r[a]).length;i<o;)s[s.length]=n[i],i+=1;else s[s.length]=r[a];a+=1}return s}}var st=l(it(!0)),at=h(function(t,e){for(var r={},n=0;n<t.length;)t[n]in e&&(r[t[n]]=e[t[n]]),n+=1;return r}),ut=l(function(t){for(var e=W(t),r=e.length,n=[],o=0;o<r;)n[o]=t[e[o]],o+=1;return n}),ct=l(function(t){for(var e={},r=0;r<t.length;)e[t[r][0]]=t[r][1],r+=1;return e});const{default:lt}=r(14),ht=new lt({concurrency:1}),ft=t=>{if(!t.ok)throw new Error(`Got HTTP error: "${t.status}: ${t.statusText}"`);return t.json()};var pt=r(0),dt=r.n(pt);const vt=t=>t.endsWith(".sbf")||t.endsWith(".SBF"),mt=t=>{return vt(t)?(async(t,e)=>{const r={headers:{Accept:"application/json","Content-Type":"application/json","X-Files":t.join(",")},method:"POST",credentials:"include",body:JSON.stringify({getMeta:{files:t}})},n=await fetch(e,r);return ft(n)})([t],dt.a.SBF_DATA_ENDPOINT):rt([t],dt.a.DATA_ENDPOINT)};console.log(`Marin Portal StagePlayer Embed ${d.version}`);const{STAGE_ENDPOINT:yt}=dt.a,bt=0===window.location.search.indexOf("?")?window.location.search.substring(1):window.location.search,gt=u.a.parse(bt),{stage:_t}=gt,wt=o.a.resolve(window.location.href,yt),jt={target:"#root",fetchStage:async()=>fetch(`${wt}?${u.a.stringify({file:_t})}`).then(t=>t.json()),save:()=>Promise.reject(),saveAs:()=>Promise.reject(),saveFragment:()=>Promise.reject(),exportSettings:()=>Promise.reject(),toggleDevTools:()=>Promise.reject(),resolveFileURI:({path:t})=>{const e=s.a.extname(t).toLowerCase();return".sbf"!==e&&".h5m"!==e?`export${s.a.resolve(s.a.dirname(_t),t)}`:t},fetchData:t=>{return t.find(t=>vt(t.file))?((t,e)=>{const r=t.map(({measurements:t,start:e,end:r,...n})=>({...n,start:e,end:r,streams:t.map(t=>({...t,stream:t.name}))})),n={headers:{Accept:"application/json","Content-Type":"application/json","X-Files":t.map(t=>t.sbf).join(",")},credentials:"include",method:"POST",body:JSON.stringify(r.map(t=>({getData:t})))};return ht.add(()=>fetch(e,n).then(ft).then(S(K(N("streams")),st,K(S(at(["name","data"]),ut)),ct,K(K(([t,e])=>({x:t,y:e}))))))})(t,dt.a.SBF_DATA_ENDPOINT):ot(t,dt.a.DATA_ENDPOINT)},fetchDataMetadata:async t=>{const e=await mt(t);return f({},p(["metadata",0],e))}};document.addEventListener("DOMContentLoaded",()=>{const t={...jt};if(!_t)return t.error="No stage specified.",void marin.StagePlayer(t);marin.StagePlayer(t)})}]);
//# sourceMappingURL=stageplayer-embed.bundle.js.map